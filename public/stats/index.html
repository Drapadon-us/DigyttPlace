<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="/stats/styles.css">

	<title>DigyttPlace Stats</title>

	<script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
	<script defer src="https://cdn.jsdelivr.net/npm/luxon@3.4.3/build/global/luxon.min.js"></script>
	<script defer src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.1/dist/chartjs-adapter-luxon.umd.min.js"></script>
	<script defer src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.0/dist/confetti.browser.min.js"></script>
	<script defer src="/stats/script.js" type="module"></script>
</head>
<body>
	<main>
		<div id="title" class="fs-xl"><strong>DigyttPlace Statistics</strong></div>

		<section id="global-stats">

			<div class="fs-l"><strong>Global Stats</strong></div>
			<hr class="divider">

			<div class="even-columns">
				<div class="small panel">
					<div class="fs-m b">Pixels Placed</div>
					<p id="pixel-count" class="fs-l b">0</p>
				</div>
				<div class="small panel">
					<div class="fs-m b">Users Online</div>
					<p id="user-count" class="fs-l b">0</p>
				</div>
				<div class="small panel">
					<div class="fs-m b">Unique Users</div>
					<p id="unique-user-count" class="fs-l b">0</p>
				</div>
				<div class="small panel">
					<div class="fs-m b">Most At Once</div>
					<p id="max-concurrent-user-count" class="fs-l b">0</p>
				</div>
			</div>

			<div class="fs-m b">Pixels Every 10 Minutes</div>
			<div class="even-columns">
				<div class="medium panel">
					<canvas id="pixels-chart"></canvas>
				</div>
			</div>

			<div class="fs-m b">Users Every 10 Minutes</div>
			<div class="even-columns">
				<div class="medium panel">
					<canvas id="users-chart"></canvas>
				</div>
			</div>

			<div class="fs-m b">Most Popular Colours</div>
			<div class="even-columns">
				<div class="large panel">
					<canvas id="colors-chart"></canvas>
				</div>
			</div>

		</section>

		<section id="personal-stats">

			<div class="fs-l"><strong>Personal Stats</strong></div>
			<hr class="divider">

			<div id="login-button-container" class="centering">
				<div id="login-button" class="fs-m b" onpointerup="login()">
					Login to view
				</div>
			</div>

			<div id="personal-stats-container" class="hidden">

				<div class="even-columns">
					<div class="small panel">
						<div class="fs-m b">Your pixels</div>
						<p id="your-pixels" class="fs-l b">0</p>
					</div>
				</div>

				<div class="fs-m b">Your Favorite Colours</div>
				<div class="even-columns">
					<div class="large panel">
						<canvas id="favorite-colors-chart"></canvas>
					</div>
				</div>

				<div class="fs-m b">Your Activity Every Hour</div>
				<div class="even-columns">
					<div class="large panel">
						<canvas id="your-pixels-chart"></canvas>
					</div>
				</div>

				<div class="fs-m b">Your Placed Pixel Map</div>
				<div class="even-columns">
					<div class="panel">
						<canvas id="heatmap"></canvas>
					</div>
				</div>
			</div>

		</section>
	</main>
</body>